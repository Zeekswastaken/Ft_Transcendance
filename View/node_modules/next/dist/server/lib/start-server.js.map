{"version":3,"sources":["../../../src/server/lib/start-server.ts"],"names":["getRequestHandlers","startServer","debug","setupDebug","dir","port","isDev","hostname","minimalMode","isNodeDebugging","keepAliveTimeout","initialize","dev","workerType","allowRetry","logReady","handlersReady","handlersError","handlersPromise","Promise","resolve","reject","requestHandler","req","res","Error","upgradeHandler","socket","head","server","http","createServer","undefined","err","statusCode","end","Log","error","url","console","on","destroy","portRetryCount","code","warn","listen","process","exit","targetHost","checkIsNodeDebugging","addr","address","host","normalizedHostname","isIPv6","appUrl","debugPort","getDebugPort","info","ready","startsWith","env","PORT","cleanup","close","initResult","Boolean"],"mappings":"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"}