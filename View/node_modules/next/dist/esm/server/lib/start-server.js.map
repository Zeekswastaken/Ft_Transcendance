{"version":3,"sources":["../../../src/server/lib/start-server.ts"],"names":["http","isIPv6","Log","setupDebug","getDebugPort","initialize","checkIsNodeDebugging","debug","getRequestHandlers","dir","port","isDev","hostname","minimalMode","isNodeDebugging","keepAliveTimeout","dev","workerType","startServer","allowRetry","logReady","handlersReady","handlersError","handlersPromise","Promise","resolve","reject","requestHandler","req","res","Error","upgradeHandler","socket","head","server","createServer","undefined","err","statusCode","end","error","url","console","on","destroy","portRetryCount","code","warn","listen","process","exit","targetHost","addr","address","host","normalizedHostname","appUrl","debugPort","info","ready","startsWith","env","PORT","cleanup","close","initResult","Boolean"],"mappings":"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"}